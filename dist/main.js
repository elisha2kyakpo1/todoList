!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);(()=>{const t=document.querySelector("#content"),e=document.createElement("div");e.setAttribute("id","headingContainer");const o=document.createElement("h1");o.textContent="Todo List",e.append(o),t.append(e);const n=document.createElement("div");n.setAttribute("id","projectAndTodoContainer"),t.append(n);const r=document.createElement("div");r.setAttribute("id","projects"),n.append(r);const c=document.createElement("div");c.setAttribute("id","projectsListContainer"),r.append(c)})();const n=[];0==localStorage.length&&n.push("Default Project");const r=(()=>{function t(){n.forEach(t=>{""!=t&&localStorage.setItem("projectList",n)})}function e(){if(0==localStorage.length)t();else{localStorage.projectList.split(",").forEach(t=>{n.includes(t)&&0!=n.length||n.push(t)})}}return{projectList:n,setProjectList:t,getProjectList:e,addProjectToList:o=>{e(),n.push(o),t()},removeProjectFromList:o=>{e(),n.length>1?(n.splice(n.indexOf(o.title),1),t()):1==n.length&&(n.pop(),localStorage.removeItem("projectList"))}}})(),c={setTodoList:function(t){const e=[];t.projectTodoList.forEach(o=>{localStorage.setItem(t.title+" "+o.title+" todo info",o.todoInfo),e.push(o.title)}),localStorage.setItem(t.title+" project todo list",e)},getTodoList:function(){i.forEach(t=>{null!=localStorage.getItem(t.title+" project todo list")&&localStorage.getItem(t.title+" project todo list").split(",").forEach(e=>{t.projectTodoListTitles.includes(e)||t.projectTodoListTitles.push(e)})})}};let i=[];function s(){r.getProjectList();const t=[];i.forEach(e=>{t.push(e.title)}),r.projectList.forEach(e=>{if(!t.includes(e)){const t=(t=>{const e=[];return{title:t,projectTodoList:e,projectTodoListTitles:[],addToProjectTodoList:function(t){e.push(t)},removeFromProjectList:function(t){e.splice(e.indexOf(t),1)}}})(e);return i.push(t)}})}const a=(t,e,o,n="None",r="Incomplete")=>({title:t,dueDate:e,priority:o,note:n,doneStatus:r,todoInfo:[t,e,o,n,r]});function d(){i.forEach(t=>{t.projectTodoListTitles.length>0&&t.projectTodoListTitles.forEach(e=>{const o=localStorage.getItem(t.title+" "+e+" todo info");if(""!=o&&null!=o){const o=localStorage[t.title+" "+e+" todo info"].split(",");let n=a(o[0],o[1],o[2],o[3],o[4]);const r=[];t.projectTodoList.forEach(t=>{r.push(t.title)}),r.includes(e)||t.addToProjectTodoList(n)}})})}const l=document.querySelector("#content"),u=t=>{let e=document.createElement("div");e.setAttribute("id","todoContainer"),t.projectTodoList.length>0&&t.projectTodoList.forEach(o=>{const n=document.createElement("div");"Complete"==o.doneStatus?n.setAttribute("class","todoCompleted"):"Incomplete"==o.doneStatus&&"High"==o.priority?n.setAttribute("class","todoHighPriority"):"Incomplete"==o.doneStatus&&"Medium"==o.priority?n.setAttribute("class","todoMediumPriority"):"Incomplete"==o.doneStatus&&"Low"==o.priority&&n.setAttribute("class","todoLowPriority");const r=document.createElement("div");r.setAttribute("class","todoInfo");const i=document.createElement("p");i.setAttribute("class","todoTitle"),i.append(o.title);const s=document.createElement("div");s.setAttribute("class","dueDateContainer");const p=document.createElement("p");p.setAttribute("class","todoDueDateHeading"),null!=o.dueDate&&""!=o.dueDate&&(p.textContent="Due Date: "+o.dueDate);const m=document.createElement("div");m.setAttribute("class","todoPriorityContainer");const b=document.createElement("p");b.setAttribute("class","priorityHeading"),b.textContent="Priority: "+o.priority;const E=document.createElement("p");E.setAttribute("class","todoNote"),null!=o.note&&""!=n.note&&(E.textContent="Note: \n"+o.note),s.append(p),m.append(b),r.append(i,s,m,E),n.append(r);const v=document.createElement("button");v.setAttribute("class","todoRemoveBtn"),v.textContent="X",v.addEventListener("click",e=>{t.removeFromProjectList(o),c.setTodoList(t),localStorage.removeItem(t.title+" "+o.title+" todo info",n.todoInfo),0==localStorage[t.title+" project todo list"].length&&localStorage.removeItem(t.title+" project todo list"),n.remove()}),n.append(v);const f=document.createElement("button");f.setAttribute("class","btn"),f.textContent="Edit",f.addEventListener("click",r=>{f.remove();const i=document.createElement("div");i.setAttribute("id","editTodoPopup"),n.append(i);const s=document.createElement("p");s.setAttribute("class","todoTitleText"),s.textContent="Title:",i.append(s);const p=document.createElement("input");p.setAttribute("class","todoTitleInput"),p.value=o.title,i.append(p);const m=document.createElement("p");m.setAttribute("id","todoDueText"),m.textContent="Due:",i.append(m);const b=document.createElement("input");b.setAttribute("class","todoDueDateInput"),b.setAttribute("type","date"),b.value=o.dueDate,i.append(b);const E=document.createElement("label");E.setAttribute("for","todoPriorityInput"),E.textContent="Priority: ";const v=document.createElement("select");v.setAttribute("name","todoPriorityInput"),v.setAttribute("class","todoPriorityInput");const A=document.createElement("option");A.setAttribute("value","Low"),A.textContent="Low";const T=document.createElement("option");T.setAttribute("value","Medium"),T.textContent="Medium";const L=document.createElement("option");L.setAttribute("value","High"),L.textContent="High",v.append(L,T,A),i.append(E,v);const C=document.createElement("label");C.setAttribute("class","todoNoteInputLabel"),C.setAttribute("for","todoNoteInput"),C.textContent="Note:";const g=document.createElement("input");g.setAttribute("class","todoNoteInput"),i.append(C,g);const x=document.createElement("p");x.setAttribute("class","noNameError"),x.textContent="Enter a name!";const h=document.createElement("button");h.setAttribute("class","btn"),h.textContent="Save",h.addEventListener("click",n=>{if(""==p.value){if(!i.contains(x))return void i.append(x)}else{const n=document.querySelector(".todoTitleInput"),r=a(n.value,b.value,v.value,g.value);t.projectTodoList.splice(t.projectTodoList.indexOf(o),1,r),t.projectTodoListTitles.splice(t.projectTodoListTitles.indexOf(o),1,r.title),localStorage.removeItem(t.title+" "+o.title+" todo info"),l.contains(e)&&e.remove(),c.setTodoList(t),d(),u(t),j.insertAdjacentElement("beforebegin",f)}}),i.append(h)}),n.append(f);const j=document.createElement("button");j.setAttribute("class","btn"),j.textContent="Complete",j.addEventListener("click",(function(r){switch(o.doneStatus){case"Incomplete":const e=a(o.title,o.dueDate,o.priority,o.note,"Complete");n.setAttribute("class","todoCompleted"),t.projectTodoList.splice(t.projectTodoList.indexOf(o),1,e),t.projectTodoListTitles.splice(t.projectTodoListTitles.indexOf(o),1,e.title);break;case"Complete":const r=a(o.title,o.dueDate,o.priority,o.note,"Incomplete");n.setAttribute("class","todo"),t.projectTodoList.splice(t.projectTodoList.indexOf(o),1,r),t.projectTodoListTitles.splice(t.projectTodoListTitles.indexOf(o),1,r.title)}l.contains(e)&&e.remove(),localStorage.removeItem(t.title+" "+o.title+" todo info"),c.setTodoList(t),d(),u(t)})),n.append(j),e.insertAdjacentElement("afterbegin",n)});const o=document.createElement("div");o.setAttribute("class","todoCreateBtnContainer");const n=document.createElement("button");n.setAttribute("class","todoCreateBtn"),n.textContent="New Todo",n.addEventListener("click",r=>{n.remove();const i=document.createElement("div");i.setAttribute("id","createTodoPopup"),e.insertAdjacentElement("afterbegin",i);const s=document.createElement("p");s.setAttribute("id","todoTitleText"),s.textContent="Title:",i.append(s);const p=document.createElement("input");p.setAttribute("class","todoTitleInput"),i.append(p);const m=document.createElement("p");m.setAttribute("id","todoDueText"),m.textContent="Due:",i.append(m);const b=document.createElement("input");b.setAttribute("class","todoDueDateInput"),b.setAttribute("type","date"),i.append(b);const E=document.createElement("label");E.setAttribute("for","todoPriorityInput"),E.textContent="Priority:";const v=document.createElement("select");v.setAttribute("name","todoPriorityInput"),v.setAttribute("class","todoPriorityInput");const f=document.createElement("option");f.setAttribute("value","Low"),f.textContent="Low";const j=document.createElement("option");j.setAttribute("value","Medium"),j.textContent="Medium";const A=document.createElement("option");A.setAttribute("value","High"),A.textContent="High",v.append(A,j,f),i.append(E,v);const T=document.createElement("label");T.setAttribute("class","todoNoteInputLabel"),T.setAttribute("for","todoNoteInput"),T.textContent="Note:";const L=document.createElement("input");L.setAttribute("class","todoNoteInput"),i.append(T,L);const C=document.createElement("p");C.setAttribute("class","noNameError"),C.textContent="Enter a name!";const g=document.createElement("button");g.setAttribute("class","btn"),g.textContent="Save",g.addEventListener("click",r=>{if(""==p.value){if(!i.contains(C))return void i.append(C)}else{const r=document.querySelector(".todoTitleInput"),i=a(r.value,b.value,v.value,L.value);t.projectTodoList.push(i),l.contains(e)&&e.remove(),c.setTodoList(t),d(),t.projectTodoListTitles.push(r.value),u(t),o.append(n)}}),i.append(g)}),o.append(n),e.insertAdjacentElement("afterbegin",o),projectAndTodoContainer.append(e)},p=document.querySelector("#content"),m=t=>{const e=document.createElement("div");e.setAttribute("class","project");const o=document.createElement("p");o.setAttribute("class","projectTitle"),o.append(t.title),e.append(o),projectsListContainer.append(e);const n=document.createElement("button");n.setAttribute("class","projectRemoveBtn"),n.textContent="X",n.addEventListener("click",o=>{const n=document.createElement("div");n.setAttribute("id","pageOverlay"),n.addEventListener("click",t=>{n.remove()});const c=document.createElement("div");c.setAttribute("id","removeProjectCheckContainer");const s=document.createElement("p");s.textContent="Are you sure you want to remove this project? \n All todo items will be lost.";const a=document.createElement("button");a.setAttribute("class","removeCheckBtn"),a.textContent="Remove",a.addEventListener("click",o=>{t.projectTodoList.forEach(e=>{localStorage.removeItem(t.title+" "+e.title+" todo info")}),localStorage.removeItem(t.title+" project todo list"),function(t){i.length>1?i.splice(i.indexOf(t),1):1==i.length&&(i=[])}(t),r.removeProjectFromList(t),n.remove(),e.remove(),todoContainer.remove()});const d=document.createElement("button");d.setAttribute("class","removeCheckBtn"),d.textContent="Cancel",d.addEventListener("click",t=>{n.remove()}),c.append(s,a,d),n.append(c),p.insertAdjacentElement("afterbegin",n)}),e.append(n),e.addEventListener("click",e=>{const o=document.querySelector("#todoContainer");p.contains(o)&&o.remove(),c.getTodoList(),d(),u(t)})},b=()=>{i.forEach(t=>{m(t)})};(()=>{const t=document.createElement("div");t.setAttribute("id","projectCreateBtnContainer");const e=document.createElement("button");e.setAttribute("id","projectCreateBtn"),e.textContent="Create Project",e.addEventListener("click",o=>{e.remove();const c=document.createElement("div");c.setAttribute("id","createProjectPopup"),projects.insertAdjacentElement("afterbegin",c);const i=document.createElement("p");i.setAttribute("id","projectTitleText"),i.textContent="Title:",c.append(i);const a=document.createElement("input");a.setAttribute("id","projectTitleInput"),a.setAttribute("placeholder","New Project"),c.append(a);const d=document.createElement("p");d.setAttribute("class","projectExistsError"),d.textContent="Project already exists!";const l=document.createElement("p");l.setAttribute("class","noNameError"),l.textContent="Enter a name!";const u=document.createElement("button");u.textContent="Save",u.setAttribute("class","btn"),u.addEventListener("click",o=>{if(n.includes(a.value)){if(!c.contains(d))return void c.insertAdjacentElement("afterend",d)}else{if(""==a.value)return void c.insertAdjacentElement("afterend",l);""!=a.value&&(r.addProjectToList(a.value),s(),c.remove(),a.remove(),u.remove(),t.append(e),projectsListContainer.innerHTML="",b())}}),c.append(u)}),t.append(e),projects.insertAdjacentElement("afterbegin",t)})(),r.getProjectList(),r.setProjectList(),s(),b()}]);