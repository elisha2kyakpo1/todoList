!function(t){var e={};function o(n){if(e[n])return e[n].exports;var c=e[n]={i:n,l:!1,exports:{}};return t[n].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)o.d(n,c,function(e){return t[e]}.bind(null,c));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);(()=>{const t=document.querySelector("#content"),e=document.createElement("div");e.setAttribute("id","headingContainer");const o=document.createElement("h1");o.textContent="Todo List",e.append(o),t.append(e);const n=document.createElement("div");n.setAttribute("id","projectAndTodoContainer"),t.append(n);const c=document.createElement("div");c.setAttribute("id","projects"),n.append(c);const r=document.createElement("div");r.setAttribute("id","projectsListContainer"),c.append(r)})();const n=[];0==localStorage.length&&n.push("Default Project");const c=(()=>{function t(){n.forEach(t=>{""!=t&&localStorage.setItem("projectList",n)})}function e(){if(0==localStorage.length)t();else{localStorage.projectList.split(",").forEach(t=>{n.includes(t)&&0!=n.length||n.push(t)})}}return{projectList:n,setProjectList:t,getProjectList:e,addProjectToList:o=>{e(),n.push(o),t()},removeProjectFromList:o=>{e(),n.length>1?(n.splice(n.indexOf(o.title),1),console.log(n),t()):1==n.length&&(n.pop(),localStorage.removeItem("projectList"))}}})(),r={setTodoList:function(t){const e=[];t.projectTodoList.forEach(o=>{localStorage.setItem(t.title+" "+o.title+" todo info",o.todoInfo),e.push(o.title)}),localStorage.setItem(t.title+" project todo list",e)},getTodoList:function(){i.forEach(t=>{null!=localStorage.getItem(t.title+" project todo list")&&localStorage.getItem(t.title+" project todo list").split(",").forEach(e=>{t.projectTodoListTitles.includes(e)||t.projectTodoListTitles.push(e)})})}};let i=[];function s(){c.getProjectList();const t=[];i.forEach(e=>{t.push(e.title)}),c.projectList.forEach(e=>{if(!t.includes(e)){const t=(t=>{const e=[];return{title:t,projectTodoList:e,projectTodoListTitles:[],addToProjectTodoList:function(t){e.push(t)},removeFromProjectList:function(t){e.splice(e.indexOf(t),1)}}})(e);return i.push(t)}})}const l=(t,e,o,n="None",c="Incomplete")=>({title:t,dueDate:e,priority:o,note:n,doneStatus:c,todoInfo:[t,e,o,n,c]});function a(){i.forEach(t=>{t.projectTodoListTitles.length>0&&t.projectTodoListTitles.forEach(e=>{const o=localStorage.getItem(t.title+" "+e+" todo info");if(""!=o&&null!=o){const o=localStorage[t.title+" "+e+" todo info"].split(",");let n=l(o[0],o[1],o[2],o[3],o[4]);const c=[];t.projectTodoList.forEach(t=>{c.push(t.title)}),c.includes(e)||(console.log(t.projectTodoListTitles),t.addToProjectTodoList(n))}})})}const d=t=>{let e=document.createElement("div");e.setAttribute("id","todoContainer"),t.projectTodoList.length>0&&t.projectTodoList.forEach(o=>{const n=document.createElement("div");"Incomplete"==o.doneStatus?n.setAttribute("class","todo"):n.setAttribute("class","todoCompleted");const c=document.createElement("div");c.setAttribute("class","todoInfo");const i=document.createElement("p");i.setAttribute("class","todoTitle"),i.append(o.title);const s=document.createElement("div");s.setAttribute("class","dueDateContainer");const u=document.createElement("p");u.setAttribute("class","todoDueDateHeading"),null!=o.dueDate&&""!=o.dueDate&&(u.textContent="Due Date: "+o.dueDate);const p=document.createElement("div");p.setAttribute("class","todoPriorityContainer");const m=document.createElement("p");m.setAttribute("class","priorityHeading"),m.textContent="Priority: "+o.priority;const b=document.createElement("p");b.setAttribute("class","todoNote"),null!=o.note&&""!=n.note&&(b.textContent="Note: \n"+o.note),s.append(u),p.append(m),c.append(i,s,p,b),n.append(c);const E=document.createElement("button");E.setAttribute("class","todoRemoveBtn"),E.textContent="X",E.addEventListener("click",e=>{t.removeFromProjectList(o),r.setTodoList(t),localStorage.removeItem(t.title+" "+o.title+" todo info",n.todoInfo),0==localStorage[t.title+" project todo list"].length&&localStorage.removeItem(t.title+" project todo list"),n.remove()}),n.append(E);const v=document.createElement("button");v.setAttribute("class","btn"),v.textContent="Edit",v.addEventListener("click",c=>{v.remove();const i=document.createElement("div");i.setAttribute("id","editTodoPopup"),n.append(i);const s=document.createElement("p");s.setAttribute("class","todoTitleText"),s.textContent="Title:",i.append(s);const u=document.createElement("input");u.setAttribute("class","todoTitleInput"),u.value=o.title,i.append(u);const p=document.createElement("p");p.setAttribute("id","todoDueText"),p.textContent="Due:",i.append(p);const m=document.createElement("input");m.setAttribute("class","todoDueDateInput"),m.setAttribute("type","date"),m.value=o.dueDate,i.append(m);const b=document.createElement("label");b.setAttribute("for","todoPriorityInput"),b.textContent="Priority:";const E=document.createElement("select");E.setAttribute("name","todoPriorityInput"),E.setAttribute("class","todoPriorityInput");const j=document.createElement("option");j.setAttribute("value","Low"),j.textContent="Low";const A=document.createElement("option");A.setAttribute("value","Medium"),A.textContent="Medium";const T=document.createElement("option");T.setAttribute("value","High"),T.textContent="High",E.append(T,A,j),i.append(b,E);const L=document.createElement("label");L.setAttribute("class","todoNoteInputLabel"),L.setAttribute("for","todoNoteInput"),L.textContent="Note:";const g=document.createElement("input");g.setAttribute("class","todoNoteInput"),i.append(L,g);const C=document.createElement("p");C.setAttribute("class","noNameError"),C.textContent="Enter a name!";const x=document.createElement("button");x.setAttribute("class","btn"),x.textContent="Save",x.addEventListener("click",n=>{if(""==u.value){if(!i.contains(C))return void i.append(C)}else{const n=document.querySelector(".todoTitleInput"),c=l(n.value,m.value,E.value,g.value);t.projectTodoList.splice(t.projectTodoList.indexOf(o),1,c),t.projectTodoListTitles.splice(t.projectTodoListTitles.indexOf(o),1,c.title),localStorage.removeItem(t.title+" "+o.title+" todo info"),content.contains(e)&&e.remove(),r.setTodoList(t),a(),d(t),f.insertAdjacentElement("beforebegin",v)}}),i.append(x)}),n.append(v);const f=document.createElement("button");f.setAttribute("class","btn"),f.textContent="Complete",f.addEventListener("click",(function(c){switch(o.doneStatus){case"Incomplete":console.log(o);const e=l(o.title,o.dueDate,o.priority,o.note,"Complete");n.setAttribute("class","todoCompleted"),t.projectTodoList.splice(t.projectTodoList.indexOf(o),1,e),t.projectTodoListTitles.splice(t.projectTodoListTitles.indexOf(o),1,e.title);break;case"Complete":console.log(o);const c=l(o.title,o.dueDate,o.priority,o.note,"Incomplete");n.setAttribute("class","todo"),t.projectTodoList.splice(t.projectTodoList.indexOf(o),1,c),t.projectTodoListTitles.splice(t.projectTodoListTitles.indexOf(o),1,c.title)}content.contains(e)&&e.remove(),localStorage.removeItem(t.title+" "+o.title+" todo info"),r.setTodoList(t),a(),d(t)})),n.append(f),e.insertAdjacentElement("afterbegin",n)});const o=document.createElement("div");o.setAttribute("class","todoCreateBtnContainer");const n=document.createElement("button");n.setAttribute("class","todoCreateBtn"),n.textContent="New Todo",n.addEventListener("click",c=>{n.remove();const i=document.createElement("div");i.setAttribute("id","createTodoPopup"),e.insertAdjacentElement("afterbegin",i);const s=document.createElement("p");s.setAttribute("id","todoTitleText"),s.textContent="Title:",i.append(s);const u=document.createElement("input");u.setAttribute("class","todoTitleInput"),i.append(u);const p=document.createElement("p");p.setAttribute("id","todoDueText"),p.textContent="Due:",i.append(p);const m=document.createElement("input");m.setAttribute("class","todoDueDateInput"),m.setAttribute("type","date"),i.append(m);const b=document.createElement("label");b.setAttribute("for","todoPriorityInput"),b.textContent="Priority:";const E=document.createElement("select");E.setAttribute("name","todoPriorityInput"),E.setAttribute("class","todoPriorityInput");const v=document.createElement("option");v.setAttribute("value","Low"),v.textContent="Low";const f=document.createElement("option");f.setAttribute("value","Medium"),f.textContent="Medium";const j=document.createElement("option");j.setAttribute("value","High"),j.textContent="High",E.append(j,f,v),i.append(b,E);const A=document.createElement("label");A.setAttribute("class","todoNoteInputLabel"),A.setAttribute("for","todoNoteInput"),A.textContent="Note:";const T=document.createElement("input");T.setAttribute("class","todoNoteInput"),i.append(A,T);const L=document.createElement("p");L.setAttribute("class","noNameError"),L.textContent="Enter a name!";const g=document.createElement("button");g.setAttribute("class","btn"),g.textContent="Save",g.addEventListener("click",c=>{if(""==u.value){if(!i.contains(L))return void i.append(L)}else{const c=document.querySelector(".todoTitleInput"),i=l(c.value,m.value,E.value,T.value);t.projectTodoList.push(i),content.contains(e)&&e.remove(),r.setTodoList(t),a(),t.projectTodoListTitles.push(c.value),d(t),o.append(n)}}),i.append(g)}),o.append(n),e.insertAdjacentElement("afterbegin",o),projectAndTodoContainer.append(e)},u=t=>{const e=document.createElement("div");e.setAttribute("class","project");const o=document.createElement("p");o.setAttribute("class","projectTitle"),o.append(t.title),e.append(o),projectsListContainer.append(e);const n=document.createElement("button");n.setAttribute("class","projectRemoveBtn"),n.textContent="X",n.addEventListener("click",o=>{console.log(o);const n=document.createElement("div");n.setAttribute("id","pageOverlay"),n.addEventListener("click",t=>{n.remove()});const r=document.createElement("div");r.setAttribute("id","removeProjectCheckContainer");const s=document.createElement("p");s.textContent="Are you sure you want to remove this project? \n All todo items will be lost.";const l=document.createElement("button");l.setAttribute("class","removeCheckBtn"),l.textContent="Remove",l.addEventListener("click",o=>{t.projectTodoList.forEach(e=>{localStorage.removeItem(t.title+" "+e.title+" todo info")}),localStorage.removeItem(t.title+" project todo list"),function(t){i.length>1?i.splice(i.indexOf(t),1):1==i.length&&(i=[],console.log(i))}(t),c.removeProjectFromList(t),n.remove(),e.remove(),todoContainer.remove()});const a=document.createElement("button");a.setAttribute("class","removeCheckBtn"),a.textContent="Cancel",a.addEventListener("click",t=>{n.remove()}),r.append(s,l,a),n.append(r),content.insertAdjacentElement("afterbegin",n)}),e.append(n),e.addEventListener("click",e=>{const o=document.querySelector("#todoContainer");content.contains(o)&&o.remove(),r.getTodoList(),a(),d(t)})},p=()=>{i.forEach(t=>{u(t)})};(()=>{const t=document.createElement("div");t.setAttribute("id","projectCreateBtnContainer");const e=document.createElement("button");e.setAttribute("id","projectCreateBtn"),e.textContent="Create Project",e.addEventListener("click",o=>{e.remove();const r=document.createElement("div");r.setAttribute("id","createProjectPopup"),projects.insertAdjacentElement("afterbegin",r);const i=document.createElement("p");i.setAttribute("id","projectTitleText"),i.textContent="Title:",r.append(i);const l=document.createElement("input");l.setAttribute("id","projectTitleInput"),l.setAttribute("placeholder","New Project"),r.append(l);const a=document.createElement("p");a.setAttribute("class","projectExistsError"),a.textContent="Project already exists!";const d=document.createElement("p");d.setAttribute("class","noNameError"),d.textContent="Enter a name!";const u=document.createElement("button");u.textContent="Save",u.setAttribute("class","btn"),u.addEventListener("click",o=>{if(n.includes(l.value)){if(!r.contains(a))return void r.insertAdjacentElement("afterend",a)}else{if(""==l.value)return void r.insertAdjacentElement("afterend",d);""!=l.value&&(c.addProjectToList(l.value),s(),r.remove(),l.remove(),u.remove(),t.append(e),projectsListContainer.innerHTML="",p())}}),r.append(u)}),t.append(e),projects.insertAdjacentElement("afterbegin",t)})(),c.getProjectList(),c.setProjectList(),s(),p()}]);